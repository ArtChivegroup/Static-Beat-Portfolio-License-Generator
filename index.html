<!-- START OF FILE: index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title will be set by script.js -->
    <title id="html-title">Loading...</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="style.css">
    <script src="https://gumroad.com/js/gumroad.js"></script>
    <!-- Removed inline style block for video, CSS handles it -->
</head>
<body>
    <!-- Video Background Container - MUST BE OUTSIDE dashboard-container -->
    <div class="video-background-container">
        <iframe
            id="background-video-iframe"
            allow="autoplay; encrypted-media"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; fullscreen" 
            allowfullscreen="allowfullscreen"
            style="border: none;">
            <!-- src will be set by script.js -->
        </iframe>
    </div>

    <!-- Main Content Area -->
    <div class="dashboard-container"> <!-- Main Grid Container -->

        <!-- Area Header -->
        <div class="grid-area grid-area-header">
            <header class="main-header card-style">
                <!-- Content set by script.js -->
                <div class="header-text">
                    <h1 id="site-title"></h1>
                    <p class="subtitle" id="site-subtitle"></p>
                </div>
                <!-- Optional Logo Area -->
                <img id="site-logo" src="" alt="Site Logo" style="display: none;">
            </header>
        </div>

        <!-- Area Actions -->
        <div class="grid-area grid-area-actions">
            <div class="actions-container card-style">
                <div class="home-action-button-container">
                     <!-- IDs kept for existing functionality -->
                     <button id="home-apply-license-btn" class="button-86">Apply for Free License</button>
                     <button id="home-purchase-license-btn" class="button-86">Purchase a Beat License</button>
                </div>
                <p class="small-info home-info">Select a beat below first, or choose a general license type.</p>
            </div>
        </div>

        <!-- Area Preview -->
        <div class="grid-area grid-area-preview">
            <section class="preview-section card-style">
                <h2 class="section-title">Preview</h2>
                <div class="preview-container">
                    <div class="swiper-button-custom preview-prev" id="preview-swipe-prev" aria-label="Previous preview slide">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
                    </div>
                    <div class="swiper preview-swiper">
                        <!-- Swiper Wrapper - Slides Added by script.js -->
                        <div class="swiper-wrapper">
                            <!-- Populated by script.js -->
                            <div class="swiper-slide placeholder"><div class="slide-content"><h4>Loading Previews...</h4></div></div>
                        </div>
                    </div>
                    <div class="swiper-button-custom preview-next" id="preview-swipe-next" aria-label="Next preview slide">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"/></svg>
                    </div>
                </div>
                <p class="small-info swipe-info">Swipe or use buttons</p>
            </section>
        </div>

        <!-- Area Main Grid -->
        <div class="grid-area grid-area-main-grid">
             <main class="portfolio-grid card-style"> <!-- Added card-style here -->
                 <h2 class="section-title all-works-title">All Works</h2>
                 <!-- Grid items will be injected here by script.js -->
                 <p class="loading-message">Loading works...</p>
             </main>
        </div>

        <!-- Area Footer -->
        <div class="grid-area grid-area-footer">
            <footer>
                <!-- Content set by script.js -->
                <p id="footer-content"></p>
            </footer>
        </div>

    </div> <!-- End dashboard-container -->


    <!-- Modals (Structure remains largely the same) -->
    <!-- Portfolio Modal -->
    <div id="portfolio-modal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close" aria-label="Close modal">×</button>
            <h2 id="modal-title"></h2>
            <div class="modal-body">
                <div id="modal-video-container" style="display: none;"></div>
                <div id="modal-details">
                    <p id="modal-description"></p>
                    <div id="modal-meta"></div>
                    <div class="modal-actions">
                        <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="modal-button secondary">View Source</a>
                        <button id="modal-apply-license-btn" class="button-86" style="display: none;">Apply Free License</button>
                        <button id="modal-purchase-license-btn" class="button-86" style="display: none;">Purchase License</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- License Application Modal (Free) -->
    <div id="license-apply-modal" class="modal">
          <div class="modal-overlay"></div>
            <div class="modal-content license-form-content">
                <button class="modal-close" aria-label="Close modal">×</button>
                <h2>Apply for Free License</h2>
                <form id="license-form">
                     <div class="form-group">
                        <label for="license-beat-title">Beat Title:</label>
                        <input type="text" id="license-beat-title" name="beat-title" placeholder="Enter the exact beat title" required>
                    </div>
                    <div class="form-group">
                        <label for="license-user-name">Your Full Name (Licensee):</label>
                         <input type="text" id="license-user-name" name="user-name" placeholder="e.g., John Doe" required>
                     </div>
                    <div class="form-group">
                        <label for="license-signature">Digital Signature:</label>
                        <input type="text" id="license-signature" name="signature" placeholder="Type your full name again to agree" required>
                        <small>By typing your name, you agree to the Free License terms.</small>
                    </div>
                    <div class="form-group agreement-box">
                        <input type="checkbox" id="license-agreement-check" name="agreement" required>
                        <label for="license-agreement-check">I have read and agree to the <a href="#view-terms" id="view-license-terms-link">Free License Terms</a>.</label>
                    </div>
                    <div id="license-terms-full" style="display: none;">
                        <!-- Populated by script.js -->
                    </div>
                    <div class="form-actions">
                        <button type="submit" id="generate-license-btn" class="modal-button primary">Validate & Prepare</button>
                        <button type="button" id="download-license-btn" class="modal-button secondary" style="display: none;">Generate & Download License</button>
                    </div>
                    <p id="license-form-error" class="error-message" style="display: none;"></p>
                    <div id="license-display-area" style="display: none;">
                         <p class="license-display-title">License Generated:</p>
                         <textarea id="license-text-output" rows="10" readonly></textarea>
                         <div class="license-copy-action">
                            <button type="button" id="copy-license-btn" class="modal-button secondary small">Copy License Text</button>
                         </div>
                         <p class="small-info copy-info">You can copy the text above. File download has been attempted.</p>
                    </div>
                </form>
            </div>
    </div>
	
	<!-- Inside Portfolio Modal -->
<div class="modal-actions">
    <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="modal-button secondary">View Source</a>
    <!-- CORRECT IDs -->
    <button id="modal-apply-license-btn" class="button-86" style="display: none;">Apply Free License</button>
    <button id="modal-purchase-license-btn" class="button-86" style="display: none;">Purchase License</button>
</div>

    <!-- Purchase Options Modal -->
    <div id="purchase-options-modal" class="modal">
           <div class="modal-overlay"></div>
            <div class="modal-content purchase-modal-content">
                <button class="modal-close" aria-label="Close modal">×</button>
                <h2 id="purchase-modal-title">Choose Your Beat License</h2>
                <p id="purchase-beat-info" style="display: none;"></p>
                <div class="license-container">
                    <!-- Cards remain structurally same, content can be adjusted in CSS if needed or kept static -->
                    <div class="license-card" data-license-type="standard">
                         <h3>Standard License</h3> <p class="price"><strong>$29</strong></p> <ul class="features"> <li>MP3 + WAV Files</li> <li>Sell up to 2,000 copies</li> <li>Up to 500,000 streams</li> <li>Music Videos: 1</li> <li>Non-Exclusive</li> <li>Must Credit: (Prod. Artchive Beat)</li> </ul> <button class="modal-button purchase small">Select Standard</button>
                    </div>
                    <div class="license-card" data-license-type="premium">
                         <h3>Premium License</h3> <p class="price"><strong>$79</strong></p> <ul class="features"> <li>MP3 + WAV + Stems</li> <li>Sell up to 10,000 copies</li> <li>Up to 5,000,000 streams</li> <li>Music Videos: Unlimited</li> <li>Non-Exclusive</li> <li>Must Credit: (Prod. Artchive Beat)</li> </ul> <button class="modal-button purchase small">Select Premium</button>
                    </div>
                    <div class="license-card" data-license-type="exclusive">
                        <h3>Exclusive License</h3> <p class="price"><strong>$299+</strong> <span class="negotiable">(Negotiable)</span></p> <ul class="features"> <li>MP3 + WAV + Stems</li> <li>Sell Unlimited copies</li> <li>Unlimited streams</li> <li>Music Videos: Unlimited</li> <li>Exclusive Rights</li> <li>Contact for details</li> </ul> <button class="modal-button purchase small">Contact for Exclusive</button>
                     </div>
                </div>
                 <p class="small-info purchase-footer-info">Clicking a license option will take you to Gumroad (or prompt contact for Exclusive).</p>
            </div>
    </div>

    <!-- Ko-fi Widget Container (script.js will initialize it) -->
    <div id="kofi-widget-container"></div>
    <!-- Ko-fi Overlay Script -->
    <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>


    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- Main script modified to load data -->
    <script src="script.js"></script>

</body>
</html>
<!-- END OF FILE: index.html -->